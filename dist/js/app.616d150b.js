(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],p=0,d=[];p<o.length;p++)s=o[p],a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("1356"),a=r.n(n);a.a},"0a03":function(e,t,r){"use strict";var n=r("b092"),a=r.n(n);a.a},"0da3":function(e,t,r){"use strict";var n=r("8ba3"),a=r.n(n);a.a},"0f23":function(e,t,r){},1356:function(e,t,r){},2187:function(e,t,r){"use strict";var n=r("2893"),a=r.n(n);a.a},"24a0":function(e,t,r){},2893:function(e,t,r){},"4c80":function(e,t,r){"use strict";var n=r("24a0"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("v-app",{attrs:{id:"inspire"}},[r("hv-baseview"),r("hv-nav-drawer")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-app",{attrs:{dark:"",id:"map"}}),r("div",{ref:"popup",attrs:{id:"popup"}})],1)},o=[],c=r("768b"),l=(r("ac6a"),r("ffc1"),r("0710")),u=r("2ce2"),p={name:"hv-baseview",data:function(){return{map:null,view:null,layers:[]}},methods:{facadeOL:function(){return this.$store.state.facadeOL},onEachFeature:function(e){for(var t='<div id="popup-close">X</div>',r=0,n=Object.entries(e);r<n.length;r++){var a=Object(c["a"])(n[r],2),i=a[0],s=a[1];"geometry"!==i&&(t+="<p>"+i+": "+s+"</p>")}return t},popup:function(e){console.log(e);var t=this.facadeOL().map,r=new l["a"]({element:this.$refs.popup}),n=this.$refs.popup,a=new u["a"];t.addInteraction(a),a.on("select",function(i){t.removeInteraction(a);var s=i.selected[0].getProperties();r.setPosition(e.coordinate),t.addOverlay(r);var o='<div id="popup-close">X</div>';if(s)for(var l=0,u=Object.entries(s);l<u.length;l++){var p=Object(c["a"])(u[l],2),d=p[0],v=p[1];"geometry"!==d&&(o+="<p>"+d+": "+v+"</p>")}n.innerHTML=o,n.firstElementChild.addEventListener("click",function(){return r.setPosition(void 0)})})}},mounted:function(){var e=this;this.$store.commit("default_facadeOL"),this.facadeOL().map.on("singleclick",function(t){return e.popup(t)})}},d=p,v=(r("0a03"),r("2877")),h=r("6544"),f=r.n(h),m=r("7496"),y=Object(v["a"])(d,s,o,!1,null,null,null),g=y.exports;f()(y,{VApp:m["a"]});var b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{staticClass:"white transparentButton",attrs:{fab:"",fixed:"",top:"",left:""},on:{click:function(t){return t.stopPropagation(),e.toggleDrawer()}}},[r("v-icon",{attrs:{color:"red"}},[e._v(e._s(e.icon_btn))])],1),r("v-navigation-drawer",{staticClass:"transparentnav",attrs:{app:"","hide-overlay":"",stateless:"",width:"350"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("basic-list-radio-button",{attrs:{icon_name:"layers",title:"Camada base",items:e.baseLayersRadio},on:{itemChanged:e.onItemChanged_changeBaseLayer}}),r("v-divider"),r("basic-list-hyper-resource",{attrs:{icon_name:"layers",title:"API hipercamadas",items:e.geoHyperEntryPoint}}),r("v-divider"),r("basic-list-wms",{attrs:{icon_name:"layers",title:"Geoserviços WMS",items:e.registeredWMSCapability}}),r("v-divider"),r("list-resource",{attrs:{icon_name:"layers",title:"Camadas selecionadas"}})],1)],1)},x=[],k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",{staticClass:"pa-0 ma-0"},[r("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-icon",{attrs:{color:"blue-grey"}},[e._v(e._s(e.icon_name))]),r("v-list-item-title",[e._v(e._s(e.title))])]},proxy:!0}])},[r("v-radio-group",{staticClass:"ma-0",attrs:{mandatory:!0},on:{change:e.onChange},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}},e._l(e.items,function(e,t){return r("v-list-item",{key:t},[r("v-radio",{attrs:{value:e,label:e.name}})],1)}),1)],1)],1)},_=[],w={props:{items:{type:Array,required:!0},icon_name:{type:String,required:!1},title:{type:String,required:!1}},data:function(){return{selectedItem:null}},methods:{onChange:function(){console.log(this.selectedItem),this.$emit("itemChanged",this.selectedItem)}},mounted:function(){this.selectedItem=this.items[0]}},L=w,O=r("132d"),C=r("8860"),V=r("56b0"),S=r("da13"),j=r("5d23"),R=r("67b6"),P=r("43a6"),I=Object(v["a"])(L,k,_,!1,null,null,null),q=I.exports;f()(I,{VIcon:O["a"],VList:C["a"],VListGroup:V["a"],VListItem:S["a"],VListItemTitle:j["b"],VRadio:R["a"],VRadioGroup:P["a"]});var B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",{staticClass:"pa-0 ma-0"},[r("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-icon",{attrs:{color:"green"}},[e._v(e._s(e.icon_name))]),r("v-list-item-title",[e._v(e._s(e.title))])]},proxy:!0}])},[r("v-list-item",[r("v-list-item-content",{staticClass:"pt-0 pb-0"},[r("v-select",{staticClass:"mt-2",attrs:{shaped:"",outlined:"",filled:"",dense:"",items:e.items,"item-text":"name",hint:"hint","single-line":""},on:{change:e.onChange},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}}),r("v-text-field",{staticStyle:{"border-radius":"0 0 16px 16px"},attrs:{outlined:"",dense:"",label:"Insira a URL WMS","single-line":"",solo:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-fade-transition",{attrs:{"leave-absolute":""}},[r("v-icon",{attrs:{disabled:""==e.url,color:"blue"},on:{click:function(t){return t.stopPropagation(),e.search(t)}}},[e._v("search")])],1)]},proxy:!0},{key:"append-outer",fn:function(){return[r("v-fade-transition",{attrs:{"leave-absolute":""}},[r("v-btn",{staticStyle:{top:"-12px"},attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[r("v-icon",{attrs:{color:"red"}},[e._v("cancel")])],1)],1)]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1),e._l(e.wmsLayersFromGetCapabilities,function(t,n){return r("v-list-tile",{key:n},[r("v-list-tile-action",[r("v-switch",{attrs:{disabled:e.layersBoolean[n],color:"cyan"},nativeOn:{click:function(r){return e.layerSwitchClicked(t)}},model:{value:e.layersBoolean[n],callback:function(t){e.$set(e.layersBoolean,n,t)},expression:"layersBoolean[index]"}})],1),r("v-list-tile-content",[e._v("\n        "+e._s(t.name)+"\n        ")])],1)})],2)],1)},E=[],A=(r("7f7f"),r("96cf"),r("3b8d")),M=(r("a481"),r("bc3a")),F=r.n(M),G={props:{name:{type:String,required:!1},items:{type:Array,required:!0},icon_name:{type:String,required:!1},title:{type:String,required:!1},hint:{type:String,required:!1}},data:function(){return{itemsName:[],item:"",url:"",errors:[],wmsLayersFromGetCapabilities:[],selectedLayers:[],layersCheckboxChanged:null,layersBoolean:[]}},methods:{onChange:function(e){var t=this.itemsName.indexOf(this.item),r=this.items[t];r&&(this.url=r.url)},cancel:function(){this.item="",this.url="",this.wmsLayersFromGetCapabilities=[]},facadeOL:function(){return this.$store.state.facadeOL},isWMSGetMap:function(e){var t=e.replace(/\s+/g,"");return-1!=t.toUpperCase().indexOf("request=GetMap".toUpperCase())},normalizedUrlWMSCapabilities:function(e){var t=e.toUpperCase().indexOf("GetCapabilities".toUpperCase());return-1==t?e+"?service=wms&request=GetCapabilities":e},getWMSLayersFromGetMap:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getWMSLayersFromGetCapabilities:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.normalizedUrlWMSCapabilities(this.url),e.prev=1,e.next=4,F.a.get(t);case 4:for(r=e.sent,this.wmsLayersFromGetCapabilities=this.facadeOL().getWMSCapabilityLayers(r.data),n=0;n++;n<=this.wmsLayersFromGetCapabilities.length)this.layersBoolean[n]=!1;e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),this.errors.push(e.t0),console.log("getWMSLayersFromGetCapabilities.Houve algum erro durante a requisição. "+this.errors);case 13:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),search:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.url){e.next=2;break}return e.abrupt("return");case 2:if(!this.isWMSGetMap(this.url)){e.next=6;break}return e.abrupt("return",this.facadeOL().addWMSLayer(layer));case 6:return e.abrupt("return",this.getWMSLayersFromGetCapabilities());case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),layerSwitchClicked:function(e){var t=this.facadeOL().addWMSLayer(e);this.$store.commit("addLayerResource",t)}},mounted:function(){this.itemsName=this.items.map(function(e){return e.name})}},T=G,U=(r("898b"),r("8336")),$=r("0789"),D=r("b974"),H=r("b73d"),W=r("8654"),N=Object(v["a"])(T,B,E,!1,null,"2166c9c4",null),z=N.exports;f()(N,{VBtn:U["a"],VFadeTransition:$["d"],VIcon:O["a"],VList:C["a"],VListGroup:V["a"],VListItem:S["a"],VListItemContent:j["a"],VListItemTitle:j["b"],VSelect:D["a"],VSwitch:H["a"],VTextField:W["a"]});var J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-list",{staticClass:"pa-0 ma-0"},[r("v-list-group",{attrs:{value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-icon",{attrs:{color:"brown darken-1"}},[e._v(e._s(e.icon_name))]),r("v-list-item-title",[e._v(e._s(e.title))])]},proxy:!0}])},[r("v-list-item",[r("v-list-item-content",{staticClass:"pt-0 pb-0"},[r("v-select",{staticClass:"mt-2",attrs:{shaped:"",outlined:"",filled:"",dense:"","item-text":"name",items:e.items,"single-line":"","return-object":""},on:{change:e.onChange},model:{value:e.itemSelected,callback:function(t){e.itemSelected=t},expression:"itemSelected"}}),r("v-text-field",{staticStyle:{"border-radius":"0 0 16px 16px"},attrs:{outlined:"",dense:"",label:"Insira a URL",solo:"","single-line":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(e.url)}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-fade-transition",{attrs:{"leave-absolute":""}},[r("v-icon",{attrs:{disabled:""==e.url,color:"blue"},on:{click:function(t){return t.stopPropagation(),e.search(e.url)}}},[e._v("search")])],1)]},proxy:!0},{key:"append-outer",fn:function(){return[r("v-fade-transition",{attrs:{"leave-absolute":""}},[r("v-btn",{staticStyle:{top:"-12px"},attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[r("v-icon",{attrs:{color:"red"}},[e._v("cancel")])],1)],1)]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1),e._l(e.layersFromGeoHyperEntryPoint,function(t,n){return r("v-list-item",{key:n},[r("v-list-item-content",[r("v-list-item-title",{attrs:{title:t.name},domProps:{textContent:e._s(t.name)}})],1),r("v-list-item-action",{staticClass:"ml-2"},[r("v-btn-toggle",{attrs:{rounded:""}},[r("v-btn",{nativeOn:{click:function(r){return e.onClick_downloadLayer(t)}}},[r("v-icon",{attrs:{color:"green"}},[e._v("get_app")])],1),r("v-btn",{on:{click:function(r){return r.stopPropagation(),e.onClick_requestOptions(t)}}},[r("v-icon",{attrs:{color:"blue"}},[e._v("info")])],1)],1)],1)],1)})],2)],1),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{model:{value:e.dialogOptions,callback:function(t){e.dialogOptions=t},expression:"dialogOptions"}},[r("v-card",[r("v-card-text",[r("basic-hyper-options",{attrs:{optionsLayer:e.optionsLayer,title:e.layerName},on:{closeDialog:e.closeDialog,expressionUrlSelected:e.onSelectUrl_downloadResource}})],1)],1)],1)],1)],1)},X=[],Q=(r("386d"),r("b54a"),r("28a5"),r("d225")),Y=r("b0b4"),Z=r("308d"),K=r("6bb5"),ee=r("4e2b"),te=(r("55dd"),r("256f")),re=function(){function e(t,r){Object(Q["a"])(this,e),this.jsonOptions=t,this.iri=r}return Object(Y["a"])(e,[{key:"id",get:function(){return this.jsonOptions["@id"]}},{key:"type",get:function(){return this.jsonOptions["@type"]}},{key:"context",get:function(){return this.jsonOptions["@context"]}},{key:"supportedProperties",get:function(){var e=this,t=this.jsonOptions["hydra:supportedProperties"];return void 0==t?[]:(t=t.slice(0),t.map(function(t){var r=t["hydra:property"];if("geom"!=r&&r in e.context){var n=e.context[r];return t["contextId"]=n["@id"],t["contextType"]=n["@type"],t}}),t)}},{key:"supportedOperations",get:function(){var e=this.jsonOptions["hydra:supportedOperations"];return void 0==e?[]:(e=e.slice(0),e=e.sort(function(e,t){return e["hydra:operation"]<t["hydra:operation"]?-1:e["hydra:operation"]>t["hydra:operation"]?1:0}),e)}}]),e}(),ne=function(){function e(t,r,n){Object(Q["a"])(this,e),this.layer=t,this.iri=r,this.name=n||this.nameFromIRI(r),this.activated=!0}return Object(Y["a"])(e,[{key:"nameFromIRI",value:function(e){var t=e.split("/"),r=t.length-1;return""==t[r]?t[r-1].toUpperCase():t[r].toUpperCase()}}]),e}(),ae=function(e){function t(){return Object(Q["a"])(this,t),Object(Z["a"])(this,Object(K["a"])(t).apply(this,arguments))}return Object(ee["a"])(t,e),t}(ne),ie=function(e){function t(e,r,n){var a;if(Object(Q["a"])(this,t),null!=e){a=Object(Z["a"])(this,Object(K["a"])(t).call(this,null,e.url,e.Name)),a.name=e.Name,a.title=e.Title,a.metadata=e.MetadataURL,a.version=r,a.entryPoint=n,a.was_requested=!1,a.crsName=e.CRS[0];var i=e.EX_GeographicBoundingBox,s=Object(te["h"])(i,"EPSG:4326","EPSG:3857");a.bbox=s,a.layer=null}else a.json=null,a.url=null,a.options_response=null,a.vector_layer=null,a.options_layer=[];return Object(Z["a"])(a)}return Object(ee["a"])(t,e),Object(Y["a"])(t,[{key:"short_name",value:function(){var e=this.url.split("/"),t=e.length;return""==e[t-1]?e[t-2].toUpperCase():e[t-1].toUpperCase()}}]),t}(ne),se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tabs",{attrs:{dark:"",color:"cyan","slider-color":"yellow"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("v-tab",{key:1,attrs:{ripple:""}},[e._v(" Atributos ")]),r("v-tab",{key:2,attrs:{ripple:""}},[e._v(" Operações ")]),r("v-tab",{key:3,attrs:{ripple:""}},[e._v(" Requisições ")]),r("v-tab",{key:4,attrs:{ripple:""}},[e._v(" Junções no cliente ")]),r("v-tab-item",{key:1},[r("basic-hyper-options-attribute",{attrs:{optionsLayer:e.optionsLayer}})],1),r("v-tab-item",{key:2},[r("basic-hyper-options-operation",{attrs:{optionsLayer:e.optionsLayer}})],1),r("v-tab-item",{key:3},[r("basic-hyper-options-requisicao",{attrs:{optionsLayer:e.optionsLayer},on:{selectedUrl:e.selectedUrl,close:e.closeDialog}})],1),r("v-tab-item",{key:4},[r("basic-hyper-join-client",{attrs:{optionsLayer:e.optionsLayer,hyperLayer:e.hyperLayer},on:{close:e.closeDialog}})],1)],1)},oe=[],ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-expansion-panels",{attrs:{color:"black",focusable:""}},e._l(e.optionsLayer.supportedProperties,function(t,n){return r("v-expansion-panel",{key:n},[r("v-expansion-panel-header",[e._v(e._s(t["hydra:property"]))]),r("v-expansion-panel-content",[r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Descrição: ")]),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Tipo: "),r("a",[e._v(e._s(t["contextType"]))])]),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Semântica do atributo em: "),r("a",[e._v(e._s(t["contextId"]))])])],1)],1)}),1)},le=[],ue={props:{optionsLayer:{type:Object,required:!1}}},pe=ue,de=(r("ac3c"),r("99d9")),ve=r("cd55"),he=r("49e2"),fe=r("c865"),me=r("0393"),ye=Object(v["a"])(pe,ce,le,!1,null,"5ed6d68b",null),ge=ye.exports;f()(ye,{VCardText:de["a"],VExpansionPanel:ve["a"],VExpansionPanelContent:he["a"],VExpansionPanelHeader:fe["a"],VExpansionPanels:me["a"]});var be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-expansion-panels",{attrs:{color:"black",focusable:""}},e._l(e.optionsLayer.supportedOperations,function(t,n){return r("v-expansion-panel",{key:n},[r("v-expansion-panel-header",[e._v(e._s(t["hydra:operation"]))]),r("v-expansion-panel-content",[r("v-card",[r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Descrição: ")]),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Semântica da operação em: "),r("a",{attrs:{target:"_blank"}},[e._v(e._s(t["@id"])+" ")])]),t["hydra:expects"].length>0?r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Parâmetros esperados:\r\n            "),e._l(t["hydra:expects"],function(e,t){return r("v-flex",{key:t},[r("v-text-field",{attrs:{label:e["parameter"],"append-icon":"check_circle"}})],1)})],2):e._e(),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Retorno da operação: "+e._s(t["hydra:returns"]))]),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Método HTTP: "+e._s(t["hydra:method"]))]),r("v-card-text",{staticClass:"grey lighten-2"},[e._v("Exemplo: "),r("a",[e._v(e._s(e.optionsLayer.iri)+"/"+e._s(t["hydra:operation"])+"/"+e._s(e.parameters_str(t["hydra:expects"])))])])],1)],1)],1)}),1),r("v-flex",{staticClass:"botoes"},[r("v-btn",{attrs:{tile:"",outlined:"",color:"success"},nativeOn:{click:function(t){return e.closeDialog(t)}}},[e._v("Ok")])],1)],1)},xe=[],ke={props:{name:{type:String,required:!1},optionsLayer:{type:Object,required:!1},icon_name:{type:String,required:!1},title:{type:String,required:!1}},methods:{log:function(e){console.log(e)},parameters_str:function(e){return 0==e.length?"":"{"+e.join("&")+"}"},closeDialog:function(){this.$emit("close"),console.log("close on BasicHyperOptionsOperation")}}},_e=ke,we=(r("e7c6"),r("b0af")),Le=r("0e8f"),Oe=Object(v["a"])(_e,be,xe,!1,null,"ff97f500",null),Ce=Oe.exports;f()(Oe,{VBtn:U["a"],VCard:we["a"],VCardText:de["a"],VExpansionPanel:ve["a"],VExpansionPanelContent:he["a"],VExpansionPanelHeader:fe["a"],VExpansionPanels:me["a"],VFlex:Le["a"],VTextField:W["a"]});var Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.optionsLayer?r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Opções para gerar requisição")]),r("div",{staticClass:"container"},[r("div",{staticClass:"atributos"},[e._v("\n        Atributos\n        "),r("v-list",e._l(e.optionsLayer.supportedProperties,function(t,n){return r("v-list-item",{key:n,staticClass:"campos-list"},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"black--text",domProps:{textContent:e._s(t["hydra:property"])}})],1),r("v-list-item-action",[e.expressao.includes("{attribute}")?r("v-btn",{staticClass:"attribute-button",attrs:{icon:"",small:""},nativeOn:{click:function(r){return r.stopPropagation(),e.includeAttribute(t["hydra:property"])}}},[r("v-icon",[e._v("send")])],1):r("v-btn",{staticClass:"grey lighten-1",attrs:{icon:"",small:""},nativeOn:{click:function(r){return r.stopPropagation(),e.showAttribute(t["hydra:property"])}}},[r("v-icon",[e._v("search")])],1)],1)],1)}),1)],1),r("div",{staticClass:"amostra"},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{"hide-details":"","background-color":"white",filled:"",label:"A partir de"},model:{value:e.a_partir_de,callback:function(t){e.a_partir_de=t},expression:"a_partir_de"}})],1),r("v-flex",{attrs:{xs6:""}},[r("v-text-field",{attrs:{"hide-details":"","background-color":"white",filled:"",label:"Qtd"},model:{value:e.qtd,callback:function(t){e.qtd=t},expression:"qtd"}})],1),r("v-flex",{staticClass:"amostra",staticStyle:{border:"1px solid transparent"}},[r("v-list",{staticStyle:{height:"240px","overflow-y":"auto"},attrs:{dense:""}},e._l(e.amostras,function(t,n){return r("v-list-item-title",{key:n,staticStyle:{height:"30px"},attrs:{ripple:""}},[r("v-layout",{attrs:{"align-center":"","justify-start":""}},[r("v-flex",{attrs:{xs10:"","align-self-center":"","text-xs-left":""}},[e._v("\n                    "+e._s(t)+"\n                  ")]),e.expressao.includes("{value}")?r("v-flex",{attrs:{xs2:"",shrink:""}},[r("v-btn",{attrs:{rounded:"",small:"",icon:""},on:{click:function(r){return e.includeValue(t)}}},[r("v-icon",{attrs:{color:"green"}},[e._v("add_circle")])],1)],1):e._e()],1)],1)}),1)],1)],1)],1),r("div",{staticClass:"opcoes"},[e._v("\n        Operações\n        "),r("v-list",e._l(e.optionsLayer.supportedOperations,function(t,n){return r("v-list-item",{key:n,staticClass:"campos-list"},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t["hydra:operation"]))])],1),t["hydra:expects"].length?r("v-list-item-action",[r("v-btn",{staticClass:"light-blue lighten-1",attrs:{icon:"",small:"",ripple:""},on:{click:function(r){return r.stopPropagation(),e.selectedOperation(t)}}},[r("v-icon",[e._v("send")])],1)],1):r("v-list-item-action",[r("v-btn",{class:t["hydra:returns"].includes("geojson")?"light-blue lighten-1":"",attrs:{icon:"",small:"",ripple:""},on:{click:function(r){return r.stopPropagation(),e.selectedOperation(t)}}},[t["hydra:returns"].includes("geojson")?r("v-icon",[e._v("layers")]):r("v-icon",{attrs:{color:"light-blue darken-4"}},[e._v("info")])],1)],1)],1)}),1)],1),r("div",{staticClass:"valores"},[e._v("\n        Operações Selecionadas\n        "),r("v-list",[e._l(e.uris,function(t,n){return[t.name?r("v-list-item",{key:n,staticClass:"campos-list"},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.name))])],1),r("v-list-item-action",[e.currentOperationsHasParameters()?r("v-text-field",{staticClass:"input-group--focused blue-grey lighten-3",attrs:{name:"Valor",label:"Valor",required:""},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"operation.value"}}):e._e(),r("v-btn",{staticClass:"red lighten-1",attrs:{icon:"",small:""},nativeOn:{click:function(r){return e.removeFilter(t)}}},[r("v-icon",[e._v("remove")])],1)],1)],1):e._e()]})],2)],1),r("v-container",{staticClass:"operadores",attrs:{"d-flex":""}},[r("v-layout",{staticClass:"justify-content: center",attrs:{row:"",wrap:"","d-flex":""}},[r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("eq")}}},[e._v("=")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("neq")}}},[e._v("!=")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("gt")}}},[e._v(">")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("lt")}}},[e._v("<")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("gte")}}},[e._v(">=")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("lte")}}},[e._v("<=")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("between")}}},[e._v("between")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("isnull")}}},[e._v("null")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("isnotnull")}}},[e._v("not null")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("like")}}},[e._v("like")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("notlike")}}},[e._v("not like")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("in")}}},[e._v("in")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("notin")}}},[e._v("not in")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("and")}}},[e._v("and")]),r("v-btn",{staticClass:"grey lighten-3 black--text",on:{click:function(t){return e.includeOperator("or")}}},[e._v("or")])],1)],1),r("div",{staticClass:"expressao",staticStyle:{"background-color":"lightgrey"}},[r("v-textarea",{staticStyle:{padding:"15px 10px"},attrs:{name:"expressao de filtragem",label:"Expressão de filtragem específica","auto-grow":"",flat:""},model:{value:e.expressionUrl,callback:function(t){e.expressionUrl=t},expression:"expressionUrl"}})],1),r("v-flex",{staticClass:"botoes"},[r("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"success"},nativeOn:{click:function(t){return e.addFilters(e.expressionUrl)}}},[e._v("Ok")]),r("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"warning"},nativeOn:{click:function(t){return e.clearUris(t)}}},[e._v("Limpar")]),r("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"error"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")])],1)],1)],1):e._e()},Se=[],je=(r("6762"),r("2fdb"),r("7514"),{props:{optionsLayer:{type:Object,required:!1}},data:function(){return{uris:[],expressionUrl:"",attributes:[],amostra:"",amostras:[],a_partir_de:1,current_operation:null,qtd:30}},methods:{request:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:F.a.get,e.prev=1,e.next=4,r(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](1),this.errors.push(e.t0),console.log("Houve algum erro durante a requisição. "+this.errors);case 12:case"end":return e.stop()}},e,this,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),showAttribute:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.clearAttributes(),this.url="".concat(this.optionsLayer.iri,"/projection/").concat(t,"/offset-limit/").concat(this.a_partir_de,"&").concat(this.qtd),e.next=4,this.request(this.url);case 4:r=e.sent,this.amostras=r.data.filter(function(e){return null!=e[t]||"undefined"!=e[t]}),this.amostras=this.amostras.map(function(e){return e[t]});case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),includeAttribute:function(e){var t=this.uris.find(function(e){return e.value.includes("{attribute}")}),r=this.uris.indexOf(t),n=t.value.replace(/{attribute}/,e);this.uris[r].value=n},currentOperationsHasParameters:function(){return null!=this.current_operation&&(console.log(this.current_operation["hydra:expects"]),!0)},clearAttributes:function(){this.attributes=[]},filterExpects:function(e){if(e)return e.map(function(e){return e.parameter.includes("schema")?e.parameter.split("/").reverse()[0]:e.parameter.split("#").reverse()[0]})},selectedOperation:function(e){var t=e["hydra:operation"],r=this.filterExpects(e["hydra:expects"]);if(0!=r.length){if("collect"==t)r="{attribute}&{operation}";else if(r.includes("expression"))r="{attribute}/{operator}/{value}";else{var n=r.map(function(e){return"{".concat(e,"}")});r=n.join("&")}this.uris.push({name:t,value:r})}else this.uris.push({name:t})},removeFilter:function(e){var t=this.uris.indexOf(e);this.uris.splice(t,1)},hasOperator:function(e){return this.uris.filter(function(e){return e.value.includes("{operator}")})},includeOperator:function(e){if(this.hasOperator(this.uris).length){var t=this.uris.find(function(e){return e.value.includes("{operator}")}),r=this.uris.indexOf(t),n=t.value.replace(/{operator}/,e);this.uris[r].value=n}else this.uris.push({value:e})},addFilters:function(e){this.$emit("selectedUrl",e)},includeValue:function(e){var t=this.uris.find(function(e){return e.value.includes("{value}")}),r=this.uris.indexOf(t),n=t.value.replace(/{value}/,e);this.uris[r].value=n},clearUris:function(){this.uris=[]},close:function(){this.clearUris(),this.clearAttributes(),this.$emit("close")}},computed:{expressao:function(){var e=this.uris.map(function(e){var t="";return e.name&&(t=e.name+"/",e.value&&(t="".concat(t).concat(e.value,"/"))),t}).join("");return this.expressionUrl=this.optionsLayer.iri+"/"+e,this.url+e}}}),Re=je,Pe=(r("2187"),r("a523")),Ie=r("a722"),qe=r("1800"),Be=r("a844"),Ee=Object(v["a"])(Re,Ve,Se,!1,null,"809dcb02",null),Ae=Ee.exports;f()(Ee,{VBtn:U["a"],VCard:we["a"],VCardTitle:de["b"],VContainer:Pe["a"],VFlex:Le["a"],VIcon:O["a"],VLayout:Ie["a"],VList:C["a"],VListItem:S["a"],VListItemAction:qe["a"],VListItemContent:j["a"],VListItemTitle:j["b"],VTextField:W["a"],VTextarea:Be["a"]});var Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"indigo white--text headline"},[e._v("\n    Apis\n    "),r("v-spacer"),r("v-text-field",{staticClass:"txfield-api",attrs:{color:"white","background-color":"white",outline:"",clearable:"",label:"Entre com a Url da API"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addApiLink(e.textFieldApiLink)}},model:{value:e.textFieldApiLink,callback:function(t){e.textFieldApiLink=t},expression:"textFieldApiLink"}})],1),r("v-layout",{attrs:{"pa-2":""}},[r("v-flex",{attrs:{xs6:""}},[r("v-flex",{staticStyle:{"overflow-y":"auto","overflow-x":"auto"}},[r("v-treeview",{staticClass:"text-xs-left",attrs:{open:e.open,items:e.items,"load-children":e.fetchItems,active:e.active,"active-class":"primary--text",activatable:"","open-on-click":"",transition:"","return-object":""},on:{"update:open":function(t){e.open=t},"update:active":function(t){e.active=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var n=t.item;t.active;return n.children?e._e():r("v-icon",{},[e._v("\n            play_arrow\n          ")])}}],null,!0)})],1)],1),e.active.length>0?r("v-flex",{attrs:{xs6:""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-list",e._l(e.optionsLayer.supportedProperties,function(t,n){return r("v-list-item-title",{key:n,staticStyle:{border:"1px solid black"}},[r("v-flex",{attrs:{xs12:""}},[e._v("\n                "+e._s(t["hydra:property"])+"\n              ")]),r("v-flex",{attrs:{xs2:""}},[r("v-radio-group",{model:{value:e.firstAttribute,callback:function(t){e.firstAttribute=t},expression:"firstAttribute"}},[r("v-radio",{attrs:{value:t["hydra:property"]}})],1)],1)],1)}),1)],1),r("v-flex",{attrs:{xs6:""}},[r("v-list",[r("v-flex",[e._v("\n              Camada: "+e._s(e.selectedItem.name)+"\n            ")]),e._l(e.unionOptionLayer.supportedProperties,function(t,n){return r("v-list-item-title",{key:n,staticStyle:{border:"1px solid black"}},[r("v-flex",{attrs:{xs1:""}},[r("v-radio-group",{model:{value:e.unionAttribute,callback:function(t){e.unionAttribute=t},expression:"unionAttribute"}},[r("v-radio",{attrs:{value:t["hydra:property"]}})],1)],1),r("v-flex",{attrs:{xs1:""}}),r("v-flex",{attrs:{xs10:""}},[e._v("\n                "+e._s(t["hydra:property"])+"\n              ")])],1)})],2)],1),r("v-flex",{attrs:{xs12:"","align-self-start":""}},[r("v-btn",{attrs:{color:"indigo lighten-3"},on:{click:e.onClick_joinAtributtes}},[e._v("Unir Atributos")])],1)],1)],1):e._e()],1)],1)},Fe=[],Ge=r("bd86"),Te=(r("456d"),r("aef6"),{props:{optionsLayer:{type:Object,required:!1},hyperLayer:{type:Object,required:!1}},data:function(){return{textFieldApiLink:"",active:[],open:[],apis:[{id:"1",name:"API IBGE",link:"http://ggt-des.ibge.gov.br/api/ibge/",children:[]},{id:"2",name:"OSM 2017",link:"http://ggt-des.ibge.gov.br/api/osm-2017-06/",children:[]},{id:"3",name:"Munic 2015",link:"http://ggt-des.ibge.gov.br/api/munic-2015/",children:[]}],firstAttribute:null,unionAttribute:null,unionOptionLayer:[]}},watch:{active:function(){var e=this;if(0!=this.active.length){var t=this.selectedItem,r=this.request(t.link,F.a.options);r.then(function(r){e.unionOptionLayer=new re(r.data,t.link)})}else this.unionOptionLayer=[]}},computed:{layerFeatures:function(){return this.hyperLayer.layer.getSource().getFeatures()},selectedItem:function(){return this.active[0]},items:function(){return[{id:"0",name:"Apis",link:null,children:this.apis}]}},methods:{request:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:F.a.get,null,e.prev=2,e.next=5,r(t);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](2),this.errors.push(e.t0),console.log("Houve algum erro durante a requisição. "+this.errors);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));function t(t){return e.apply(this,arguments)}return t}(),isEntryPoint:function(e){return e.toLowerCase().indexOf("//schema.org/entrypoint")>-1},fetchItems:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i,s,o,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.request(t.link,F.a.head);case 4:if(r=e.sent,n=r.headers.link,this.isEntryPoint(n)){e.next=9;break}return delete t.children,e.abrupt("return");case 9:return e.next=11,this.request(t.link);case 11:for(s in r=e.sent,a=1,i=[],r.data)o=r.data[s],c=r.data[s].split(t.link),a++,l={id:""+t.id+a,name:c[1],link:o},c[1].endsWith("/")&&(l.children=[]),i.push(l);t.children=i;case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addApiLink:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={id:this.apis.length+1,name:t,link:t},e.next=3,this.request(t,F.a.head);case 3:n=e.sent,a=n.headers.link,console.log(n),this.isEntryPoint(a)&&(r.children=[]),this.apis.push(r),this.textFieldApiLink="";case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onClick_joinAtributtes:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.firstAttribute,t=this.unionAttribute,this.optionsLayer,r=this.unionOptionLayer,e.next=6,this.layerFeatures.map(function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(a){var i,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=r.iri.endsWith("/")?r.iri:r.iri+"/",s="".concat(i,"filter/").concat(t,"/eq/").concat(a.getProperties()[n.firstAttribute]),e.prev=2,e.next=5,F.a.get(s);case 5:o=e.sent,o.data.features.map(function(e){Object.keys(e.properties).map(function(t){"geom"!=t&&a.setProperties(Object(Ge["a"])({},t,e.properties[t]))})}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),Ue=Te,$e=(r("fb34"),r("2fa4")),De=r("eb2a"),He=Object(v["a"])(Ue,Me,Fe,!1,null,"4e848d86",null),We=He.exports;f()(He,{VBtn:U["a"],VCard:we["a"],VCardTitle:de["b"],VFlex:Le["a"],VIcon:O["a"],VLayout:Ie["a"],VList:C["a"],VListItemTitle:j["b"],VRadio:R["a"],VRadioGroup:P["a"],VSpacer:$e["a"],VTextField:W["a"],VTreeview:De["a"]});var Ne={props:{optionsLayer:{type:Object,required:!1},hyperLayer:{type:Object,required:!1}},components:{BasicHyperOptionsAttribute:ge,BasicHyperOptionsOperation:Ce,BasicHyperOptionsRequisicao:Ae,BasicHyperJoinClient:We},data:function(){return{active:null}},methods:{closeDialog:function(){this.$emit("closeDialog")},selectedUrl:function(e){this.$emit("expressionUrlSelected",e)}}},ze=Ne,Je=(r("0da3"),r("71a3")),Xe=r("c671"),Qe=r("fe57"),Ye=Object(v["a"])(ze,se,oe,!1,null,"0015d0d8",null),Ze=Ye.exports;f()(Ye,{VTab:Je["a"],VTabItem:Xe["a"],VTabs:Qe["a"]});var Ke=function(){function e(t,r){Object(Q["a"])(this,e),this.name=r||this.nameFromIRI(t),this.iri=t,this._response=null}return Object(Y["a"])(e,[{key:"nameFromIRI",value:function(e){var t=e.split("/"),r=t.length-1;return""==t[r]?t[r-1].toUpperCase():t[r].toUpperCase()}},{key:"request",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:F.a.get,null!=this.iri&&void 0!=this.iri&&""!=this.iri){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,t(this.iri);case 6:if(r=e.sent,t!=F.a.get){e.next=11;break}if(null!=this._response){e.next=11;break}return this._response=r,e.abrupt("return",this._response);case 11:return e.abrupt("return",r);case 14:e.prev=14,e.t0=e["catch"](3),this.errors.push(e.t0),console.log("Houve algum erro durante a requisição. "+this.errors);case 18:case"end":return e.stop()}},e,this,[[3,14]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"isEntryPoint",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.request(F.a.head);case 2:return t=e.sent,r=t.headers.link.toUpperCase(),n="://schema.org/EntryPoint".toUpperCase(),e.abrupt("return",r.search(n)>-1);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),et={props:{name:{type:String,required:!1},items:{type:Array,required:!0},icon_name:{type:String,required:!1},title:{type:String,required:!1}},components:{BasicHyperOptions:Ze},data:function(){return{itemSelected:"",url:"",errors:[],layersFromGeoHyperEntryPoint:[],layersBoolean:[],dialogOptions:!1,optionsLayer:new re({},""),layerName:""}},methods:{onClick_requestOptions:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.request(F.a.options);case 2:r=e.sent,this.dialogOptions=!0,this.layerName=t.name,this.optionsLayer=new re(r.data,t.iri);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onChange:function(e){this.url=e.url},cancel:function(){this.itemSelected=null,this.url="",this.layersFromGeoHyperEntryPoint=[]},closeDialog:function(e){this.dialogOptions=!1,this.optionsLayer=new re({},"")},onSelectUrl_downloadResource:function(e){console.log("Downloading ",e),this.dialogOptions=!1,this.search(e)},facadeOL:function(){return this.$store.state.facadeOL},getLayersFromEntryPoint:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.request();case 2:for(n in r=e.sent,r.data)a=r.data[n],i=new Ke(a,n),this.layersFromGeoHyperEntryPoint.push(i);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateLayer:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.request();case 2:r=e.sent,n=this.facadeOL().addVectorLayerFromGeoJSON(r.data),a=new ae(n,t.iri,null),this.$store.commit("addLayerResource",a);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),search:function(e){var t=this,r=new Ke(e,null),n=r.isEntryPoint();n.then(function(e){console.log("isEntryPoint",e,r),e?t.getLayersFromEntryPoint(r):t.updateLayer(r)})},onClick_downloadLayer:function(e){this.updateLayer(e)}}},tt=et,rt=r("a609"),nt=r("169a"),at=Object(v["a"])(tt,J,X,!1,null,null,null),it=at.exports;f()(at,{VBtn:U["a"],VBtnToggle:rt["a"],VCard:we["a"],VCardText:de["a"],VDialog:nt["a"],VFadeTransition:$["d"],VIcon:O["a"],VLayout:Ie["a"],VList:C["a"],VListGroup:V["a"],VListItem:S["a"],VListItemAction:qe["a"],VListItemContent:j["a"],VListItemTitle:j["b"],VSelect:D["a"],VTextField:W["a"]});var st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-list",{staticClass:"pa-0 ma-0"},[r("v-list-group",{attrs:{value:"true"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-icon",{attrs:{color:"orange"}},[e._v(e._s(e.icon_name))]),r("v-list-item-title",[e._v(e._s(e.title))])]},proxy:!0}])},e._l(e.items,function(e,t){return r("list-item",{key:t,attrs:{layer:e}})}),1)],1),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{model:{value:e.dialogOptions,callback:function(t){e.dialogOptions=t},expression:"dialogOptions"}},[r("v-card",[r("v-card-text",[r("basic-hyper-options",{attrs:{optionsLayer:e.optionsLayer},on:{closeDialog:e.closeDialog}})],1)],1)],1)],1)],1)},ot=[],ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[r("v-list-group",{attrs:{"sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-title",{attrs:{title:e.layer.name}},[e._v(e._s(e.layer.name))])]},proxy:!0}])},[r("v-list-item",[r("v-list-item-action",{attrs:{title:"Ativar/Desativar"}},[r("v-switch",{attrs:{color:"cyan"},nativeOn:{click:function(t){return e.layerSwitchClicked(t)}},model:{value:e.layer.activated,callback:function(t){e.$set(e.layer,"activated",t)},expression:"layer.activated"}})],1),r("v-flex",[r("v-btn",{attrs:{fab:"",small:"",title:"Remover camada"},on:{click:function(t){return t.stopPropagation(),e.clickedRemoveLayer(t)}}},[r("v-icon",{attrs:{color:"red"}},[e._v("delete")])],1),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"ml-4",attrs:{fab:"",small:"",title:"Editar estilo"}},n),[r("v-icon",[e._v("color_lens")])],1)]}}])},[r("v-color-picker",{staticClass:"mx-auto",attrs:{hideInputs:"",hideModeSwitch:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),r("v-btn",{staticClass:"ml-4",attrs:{fab:"",small:"",title:"log"},on:{click:e.zoomLayer}},[r("v-icon",[e._v("zoom_in")])],1),r("v-btn",{staticClass:"ml-4",attrs:{fab:"",small:"",title:"Opções da camada"},on:{click:function(t){return t.stopPropagation(),e.onClick_requestOptions(t)}}},[r("v-icon",{attrs:{color:"blue"}},[e._v("info")])],1)],1)],1)],1),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{model:{value:e.dialogOptions,callback:function(t){e.dialogOptions=t},expression:"dialogOptions"}},[r("v-card",[r("v-card-text",[r("basic-hyper-options",{attrs:{optionsLayer:e.optionsLayer,hyperLayer:e.layer},on:{closeDialog:e.closeDialog}})],1)],1)],1)],1)],1)},lt=[],ut=r("6c77"),pt={components:{BasicHyperOptions:Ze},props:["layer"],data:function(){return{dialogOptions:!1,optionsLayer:null,color:""}},methods:{facadeOL:function(){return this.$store.state.facadeOL},request:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:F.a.get,e.prev=1,e.next=4,r(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](1),this.errors.push(e.t0),console.log("Houve algum erro durante a requisição. "+this.errors);case 12:case"end":return e.stop()}},e,this,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),zoomLayer:function(){console.log(this.layer)},createStyle:function(e){var t=new ut["c"].Fill({color:e});return new ut["c"].Style({image:new ut["c"].Circle({fill:t,radius:5}),fill:t})},closeDialog:function(e){this.dialogOptions=!1,this.optionsLayer=new re({},"")},onClick_requestOptions:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.layer,e.next=3,this.request(t.iri,F.a.options);case 3:r=e.sent,this.dialogOptions=!0,this.optionsLayer=new re(r.data,t.iri);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clickedRemoveLayer:function(){var e=this.layer;this.facadeOL().map.removeLayer(e.layer),this.$store.commit("removeLayerResource",e)},layerSwitchClicked:function(){var e=this.layer;e.activated?this.facadeOL().map.addLayer(e.layer):this.facadeOL().map.removeLayer(e.layer)}}},dt=pt,vt=(r("a66d"),r("03a4")),ht=r("e449"),ft=Object(v["a"])(dt,ct,lt,!1,null,null,null),mt=ft.exports;f()(ft,{VBtn:U["a"],VCard:we["a"],VCardText:de["a"],VColorPicker:vt["a"],VDialog:nt["a"],VFlex:Le["a"],VIcon:O["a"],VLayout:Ie["a"],VList:C["a"],VListGroup:V["a"],VListItem:S["a"],VListItemAction:qe["a"],VListItemTitle:j["b"],VMenu:ht["a"],VSwitch:H["a"]});var yt={components:{BasicHyperOptions:Ze,ListItem:mt},props:{icon_name:{type:String,required:!1},title:{type:String,required:!1}},data:function(){return{active:!0,closeDialog:!1,dialogOptions:!1,optionsLayer:new re({},"")}},methods:{request:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:F.a.get,e.prev=1,e.next=4,r(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](1),this.errors.push(e.t0),console.log("Houve algum erro durante a requisição. "+this.errors);case 12:case"end":return e.stop()}},e,this,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.optionsLayer=new re({},"")},facadeOL:function(){return this.$store.state.facadeOL}},computed:{items:function(){return this.$store.state.layersResource}}},gt=yt,bt=(r("4c80"),Object(v["a"])(gt,st,ot,!1,null,"23fca9ff",null)),xt=bt.exports;f()(bt,{VCard:we["a"],VCardText:de["a"],VDialog:nt["a"],VIcon:O["a"],VLayout:Ie["a"],VList:C["a"],VListGroup:V["a"],VListItemTitle:j["b"]});var kt={name:"hv-nav-drawer",components:{BasicListRadioButton:q,BasicListWms:z,BasicListHyperResource:it,ListResource:xt},data:function(){return{drawer:!0,right:null,items:[{title:"Camadas base",icon:"dashboard"},{title:"Sobre",icon:"question_answer"}],baseLayersRadio:[{name:"Openstreetmap",value:"OSM"},{name:"Google",value:"google"},{name:"Google Satélite",value:"satelite"},{name:"Water color",value:"watercolor"},{name:"Wikimedia",value:"wikimedia"},{name:"Nenhum",value:null}],registeredWMSCapability:[{name:"BNDES",title:"Banco Nacional de Desenvolvimento Econômico e Social",url:"http://www.geoservicos.inde.gov.br/geoserver/BNDES/wms",registration:"",service_type:""},{name:"SPM",title:"Secretaria Nacional de Políticas para Mulher",url:"http://www.geoservicos.inde.gov.br/geoserver/SPM/wms",registration:"",service_type:""},{name:"CCAR-IBGE",title:"Coordenação de Cartografia-IBGE",url:"http://172.30.137.117/geoserver-ccar/ows",registration:"",service_type:""}],geoHyperEntryPoint:[{name:"BCIM 2016",title:"Base Cartográfica Contínua do Brasil ao Milionésimo-IBGE",url:"http://172.30.137.117/api/ibge/cartografia/bases-cartograficas/1000k/2016/",registration:"",service_type:""},{name:"B250 2015",title:"Base Cartográfica 250k - IBGE",url:"http://172.30.137.117/api/ibge/cartografia/bases-cartograficas/250k/2015/",registration:"",service_type:""},{name:"OSM",title:"Base vetorial do OpenStreetMap de 2017-06",url:"http://172.30.137.117/api/osm-2017-06/",registration:"",service_type:""},{name:"CREN - Cobertura de terra",title:"Cobertura de uso da terra - CREN",url:"http://172.30.137.117/api/ibge/recursos-naturais/cobertura-uso-terra/",registration:"",service_type:""},{name:"Atlas Demográfico 2010",title:"Atlas Demográfico 2010",url:"http://172.30.137.117/api/ibge/geografia/atlas/demografico/2010/",registration:"",service_type:""},{name:"Munic 2015",title:"Munic 2015",url:"http://ggt-des.ibge.gov.br/api/munic-2015/",registration:"",service_type:""}]}},methods:{onItemChanged_changeBaseLayer:function(e){this.$store.state.facadeOL.setBaseLayer(e.value)},toggleDrawer:function(){this.drawer=!this.drawer}},computed:{icon_btn:function(){return this.drawer?"chevron_left":"chevron_right"}}},_t=kt,wt=(r("580c"),r("ce7e")),Lt=r("f774"),Ot=Object(v["a"])(_t,b,x,!1,null,"769bca8e",null),Ct=Ot.exports;f()(Ot,{VBtn:U["a"],VDivider:wt["a"],VIcon:O["a"],VNavigationDrawer:Lt["a"]});var Vt={name:"app",components:{"hv-baseview":g,"hv-nav-drawer":Ct}},St=Vt,jt=(r("034f"),Object(v["a"])(St,a,i,!1,null,null,null)),Rt=jt.exports;f()(jt,{VApp:m["a"]});var Pt=r("f309");r("d1e7");n["a"].use(Pt["a"]);var It=new Pt["a"]({icons:{iconfont:"md"}}),qt=r("2f62"),Bt=r("5eee"),Et=r("a2c7"),At=r("480c"),Mt=r("2ef1"),Ft=r("91b1"),Gt=r("c810"),Tt=r("6792"),Ut=r("5831"),$t=r("a2e1"),Dt=r("3e6b"),Ht=r("41b9"),Wt=r("8682"),Nt=r("0376"),zt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"map",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[-4331024.58685793,-1976355.8033415168],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Q["a"])(this,e),this.map=new Bt["a"]({target:t}),this.view=new Et["a"]({center:r,zoom:n}),this.map.setView(this.view),this.currentBaseLayer=this.osmBaseLayer(),this.map.addLayer(this.currentBaseLayer)}return Object(Y["a"])(e,[{key:"nullBaseLayer",value:function(){return null}},{key:"osmBaseLayer",value:function(){return new At["a"]({source:new Mt["a"]({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),zIndex:0})}},{key:"googleBaseLayer",value:function(){return new At["a"]({source:new Mt["a"]({url:"http://mt{0-3}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}"}),zIndex:0})}},{key:"sateliteBaseLayer",value:function(){return new At["a"]({source:new Ft["a"]({url:"http://mt1.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}"}),zIndex:0})}},{key:"watercolorBaseLayer",value:function(){return new At["a"]({source:new Mt["a"]({url:"http://{a-c}.tile.stamen.com/watercolor/{z}/{x}/{y}.png"}),zIndex:0})}},{key:"wikimediaBaseLayer",value:function(){return new At["a"]({source:new Mt["a"]({url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png"}),zIndex:0})}},{key:"baseLayer",value:function(e){var t={OSM:this.osmBaseLayer(),google:this.googleBaseLayer(),satelite:this.sateliteBaseLayer(),watercolor:this.watercolorBaseLayer(),wikimedia:this.wikimediaBaseLayer(),null:this.nullBaseLayer()};return t[e]}},{key:"setBaseLayer",value:function(e){this.map.removeLayer(this.currentBaseLayer),e&&(this.currentBaseLayer=this.baseLayer(e),this.map.addLayer(this.currentBaseLayer),this.currentBaseLayer.setZIndex(0))}},{key:"getWMSCapabilitiesAsJSON",value:function(e){var t=new Ht["a"];return t.read(e)}},{key:"getWMSCapabilityLayers",value:function(e){var t=this.getWMSCapabilitiesAsJSON(e),r=t.Capability.Layer.Layer;return r.map(function(e){return new ie(e,t.version,t.Service.OnlineResource)})}},{key:"getWMSMap",value:function(e){var t=new Tt["a"]({url:e.entryPoint+"/wms",params:{LAYERS:e.name}});return new Gt["a"]({extent:e.bbox,source:t})}},{key:"addWMSLayer",value:function(e){var t=this.getWMSMap(e);return this.map.addLayer(t),e.layer=t,e}},{key:"removeWMSLayer",value:function(e){this.map.removeLayer(e.olLayer),e.olLayer=null}},{key:"showGraticule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgba(255,120,0,0.9)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[.5,4],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=new Wt["a"]({color:e,width:t,lineDash:r}),i=new Nt["a"]({strokeStyle:a,showLabels:n});i.setMap(this.map)}},{key:"createHyperResourceLayer",value:function(e,t){return new HyperResourceLayer(e,t)}},{key:"addVectorLayerFromGeoJSON",value:function(e){var t=(new $t["a"]).readFeatures(e,{featureProjection:this.map.getView().getProjection()}),r=new Ut["a"]({features:t}),n=new Dt["a"]({source:r});return this.map.addLayer(n),n}},{key:"addHyperResourceLayer",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(t.iri);case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("Houve algum erro na requisição. ",e.t0);case 9:n=(new $t["a"]).readFeatures(r.data,{featureProjection:this.map.getView().getProjection()}),a=new Ut["a"]({features:n}),i=new Dt["a"]({source:a}),this.map.addLayer(i);case 13:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeHyperResourceLayer",value:function(e){}}]),e}();n["a"].use(qt["a"]);var Jt=new qt["a"].Store({state:{facadeOL:null,layersResource:[]},mutations:{default_facadeOL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"map",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-4331024.58685793,-1976355.8033415168],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"OSM";e.facadeOL=new zt(t,r,n,a)},addLayerResource:function(e,t){e.layersResource.push(t)},removeLayerResource:function(e,t){var r=e.layersResource.indexOf(t);e.layersResource.splice(r,1)}}});n["a"].config.productionTip=!1,new n["a"]({store:Jt,vuetify:It,render:function(e){return e(Rt)}}).$mount("#app")},5755:function(e,t,r){},"580c":function(e,t,r){"use strict";var n=r("6005"),a=r.n(n);a.a},6005:function(e,t,r){},8889:function(e,t,r){},"898b":function(e,t,r){"use strict";var n=r("0f23"),a=r.n(n);a.a},"8ba3":function(e,t,r){},"93fc":function(e,t,r){},a66d:function(e,t,r){"use strict";var n=r("5755"),a=r.n(n);a.a},a8a4:function(e,t,r){},ac3c:function(e,t,r){"use strict";var n=r("93fc"),a=r.n(n);a.a},b092:function(e,t,r){},e7c6:function(e,t,r){"use strict";var n=r("8889"),a=r.n(n);a.a},fb34:function(e,t,r){"use strict";var n=r("a8a4"),a=r.n(n);a.a}});
//# sourceMappingURL=app.616d150b.js.map